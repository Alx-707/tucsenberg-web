/**
 * ä¸­æ–‡å­—ä½“é…ç½®æ¨¡å—
 *
 * ğŸ¯ è®¾è®¡ç›®æ ‡ï¼š
 * - ä½¿ç”¨ç³»ç»Ÿå­—ä½“æ ˆï¼Œé›¶åŠ è½½æ—¶é—´ï¼Œæœ€ä½³æ€§èƒ½
 * - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºç§»é™¤
 * - ä¸å½±å“è‹±æ–‡å­—ä½“é…ç½®
 *
 * ğŸ“¦ å¦‚éœ€ç§»é™¤ä¸­æ–‡æ”¯æŒï¼ˆ3 æ­¥å®Œæˆï¼‰ï¼š
 * 1. åˆ é™¤æ­¤æ–‡ä»¶ (src/styles/fonts-chinese.css)
 * 2. ä» globals.css ä¸­ç§»é™¤ @import './fonts-chinese.css';
 * 3. ä» src/i18n/routing.ts ä¸­ç§»é™¤ 'zh' locale
 *
 * âœ… å®Œæˆï¼ä¸ä¼šå½±å“ä»»ä½•è‹±æ–‡åŠŸèƒ½
 */

/* ==================== ä¸­æ–‡å­—ä½“æ ˆå®šä¹‰ ==================== */

:root {
  /**
   * ä¸­æ–‡ç³»ç»Ÿå­—ä½“æ ˆ
   *
   * ä¼˜å…ˆçº§é¡ºåºï¼š
   * 1. macOS: PingFang SC (æœ€ç°ä»£ï¼Œæœ€ä¼˜ç¾)
   * 2. macOS æ—§ç‰ˆ: Hiragino Sans GB
   * 3. Windows: Microsoft YaHei (å¾®è½¯é›…é»‘)
   * 4. Adobe: Source Han Sans SC (æ€æºé»‘ä½“ï¼Œå¦‚æœå·²å®‰è£…)
   * 5. Google: Noto Sans SC / Noto Sans CJK SC (å¦‚æœå·²å®‰è£…)
   * 6. Linux: WenQuanYi Micro Hei (æ–‡æ³‰é©¿å¾®ç±³é»‘)
   * 7. é€šç”¨å›é€€: sans-serif
   */
  --font-chinese-stack:
    'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Source Han Sans SC',
    'Noto Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
}

/* ==================== ä¸­æ–‡é¡µé¢å­—ä½“åº”ç”¨ ==================== */

/**
 * ä»…å¯¹ä¸­æ–‡é¡µé¢åº”ç”¨ä¸­æ–‡å­—ä½“
 *
 * æ”¯æŒçš„ locale:
 * - zh: ä¸­æ–‡ï¼ˆé€šç”¨ï¼‰
 * - zh-CN: ç®€ä½“ä¸­æ–‡
 * - zh-Hans: ç®€ä½“ä¸­æ–‡ï¼ˆè¯­è¨€æ ‡ç­¾ï¼‰
 */
html[lang='zh'],
html[lang='zh-CN'],
html[lang='zh-Hans'] {
  font-family: var(--font-chinese-stack);
}

/* ==================== ä¸­æ–‡å…ƒç´ å­—ä½“åº”ç”¨ ==================== */

/**
 * ä¸ºç‰¹å®šå…ƒç´ å¼ºåˆ¶ä½¿ç”¨ä¸­æ–‡å­—ä½“
 *
 * ç”¨é€”ï¼š
 * - æ··åˆè¯­è¨€å†…å®¹çš„åœºæ™¯
 * - éœ€è¦æ˜ç¡®æŒ‡å®šä¸­æ–‡å­—ä½“çš„å…ƒç´ 
 */
.font-chinese,
.chinese-text,
[lang='zh'],
[lang='zh-CN'],
[lang='zh-Hans'] {
  font-family: var(--font-chinese-stack);
}

/* ==================== ä¸­æ–‡å­—ä½“ä¼˜åŒ– ==================== */

/**
 * ä¸­æ–‡å­—ä½“æ¸²æŸ“ä¼˜åŒ–
 *
 * - font-feature-settings: å¯ç”¨å­—è·è°ƒæ•´ã€è¿å­—ç­‰ç‰¹æ€§
 * - text-rendering: ä¼˜åŒ–æ–‡æœ¬æ¸²æŸ“è´¨é‡
 */
.font-chinese,
[lang='zh'] {
  font-feature-settings:
    'kern' 1,
    /* å­—è·è°ƒæ•´ */ 'liga' 1,
    /* è¿å­— */ 'calt' 1; /* ä¸Šä¸‹æ–‡æ›¿ä»£ */
  text-rendering: optimizeLegibility;
}

/* ==================== æ€§èƒ½ä¼˜åŒ– ==================== */

/**
 * ä¸­æ–‡æ ‡é¢˜å¿«é€Ÿæ¸²æŸ“ä¼˜åŒ–
 *
 * ç”¨é€”ï¼šä¼˜åŒ– LCP (Largest Contentful Paint)
 * ä½¿ç”¨åœºæ™¯ï¼šä¸­æ–‡é¦–é¡µçš„ä¸»æ ‡é¢˜
 */
:root[lang='zh'] [data-fast-lcp-zh='1'] h1[data-lcp-title='1'] {
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    'PingFang SC',
    'Microsoft YaHei',
    Arial,
    sans-serif;
  font-weight: 600;
}
